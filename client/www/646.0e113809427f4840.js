"use strict";(self.webpackChunkbalancedyte=self.webpackChunkbalancedyte||[]).push([[646],{6646:(B,b,s)=>{s.r(b),s.d(b,{AccountAndSettingsModule:()=>u});var l=s(6895),a=s(5450),p=s(3874),e=s(8256),Z=s(7952),_=s(1653);class m{constructor(r,o,t){this.userApiService=r,this.toastMessageService=o,this.activatedRoute=t,this.isLoading=!1}ngOnInit(){console.log("order component"),this.scrollTop(),this.isLoggedIn()&&(this.isLoading=!0,this.activatedRoute.params.subscribe(r=>{this.userApiService.getUserOrder(r.orderId).subscribe(o=>{console.log(o),this.order=o.order,this.isLoading=!1},o=>{this.toastMessageService.info(o.error.message),this.isLoading=!1,console.log(o)})}))}isLoggedIn(){return this.userApiService.isLoggedIn()}scrollTop(){window.scrollTo({top:0,behavior:"smooth"})}}m.\u0275fac=function(r){return new(r||m)(e.Y36(Z.Q),e.Y36(_.E),e.Y36(a.gz))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-order"]],decls:2,vars:0,template:function(r,o){1&r&&(e.TgZ(0,"p"),e._uU(1,"order works!"),e.qZA())}});var n=s(433),y=s(2670);function q(i,r){if(1&i){const o=e.EpF();e.TgZ(0,"h3"),e._uU(1,"You havn't placed any order yet! "),e.TgZ(2,"a",11),e.NdJ("click",function(){e.CHM(o);const d=e.oxw();return e.KtG(d.scrollTop())}),e._uU(3," Place an order"),e.qZA()()}}function C(i,r){if(1&i&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",15)(3,"span",16),e._uU(4),e.qZA()(),e.TgZ(5,"td",17)(6,"span",16),e._uU(7),e.qZA()(),e.TgZ(8,"td",18)(9,"span",16),e._uU(10),e.qZA()(),e.TgZ(11,"td",18)(12,"span",16),e._uU(13),e.qZA()(),e.TgZ(14,"td",18)(15,"span",16),e._uU(16),e.qZA()(),e.TgZ(17,"td",19)(18,"span",16),e._uU(19),e.ALo(20,"currency"),e.qZA()()()()),2&i){const o=r.$implicit;e.xp6(4),e.hij(" ",o.razorPayOrderId," "),e.xp6(3),e.Oqu(o.createdAt.slice(0,10)),e.xp6(3),e.Oqu(o.planDetails.paymentStatus),e.xp6(3),e.Oqu(o.planDetails.planName),e.xp6(3),e.Oqu(o.planDetails.planDuration),e.xp6(3),e.Oqu(e.gM2(20,6,o.planDetails.payableTotal,"INR","symbol","2.0"))}}function A(i,r){if(1&i&&(e.TgZ(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e._uU(4,"Order Id"),e.qZA(),e.TgZ(5,"th",13),e._uU(6,"Date"),e.qZA(),e.TgZ(7,"th",13),e._uU(8,"Status"),e.qZA(),e.TgZ(9,"th",13),e._uU(10,"Plan Name"),e.qZA(),e.TgZ(11,"th",13),e._uU(12,"Plan Duration"),e.qZA(),e.TgZ(13,"th",13),e._uU(14,"Total"),e.qZA()()(),e.YNc(15,C,21,11,"tbody",14),e.qZA()),2&i){const o=e.oxw();e.xp6(15),e.Q6J("ngForOf",o.orders)}}function U(i,r){1&i&&e._UZ(0,"app-spinner")}class f{constructor(r,o,t){this.userApiService=r,this.toastMessageService=o,this.router=t,this.isLoading=!1,this.orders=[]}ngOnInit(){this.scrollTop(),this.isLoggedIn()&&(this.isLoading=!0,this.userApiService.getUserOrders().subscribe(r=>{this.orders=r.orders.slice().reverse(),this.getTotalOfOrders(),this.isLoading=!1},r=>{this.isLoading=!1,console.log(r)}))}isLoggedIn(){return this.userApiService.isLoggedIn()}scrollTop(){window.scrollTo({top:0,behavior:"smooth"})}onNavigate(r){this.router.navigate(["/account/profile/orders/view-order/"+r])}getTotalOfOrders(){let r=0,o=0;return this.orders.map(t=>{r+=Number(t.planDetails.payableTotal),o+=Number(t.planDetails.planDuration.slice(0,1))}),{totalAmount:r,totalDuration:o}}}f.\u0275fac=function(r){return new(r||f)(e.Y36(Z.Q),e.Y36(_.E),e.Y36(a.F0))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-orders"]],decls:21,vars:3,consts:[[1,"inner-banner","inner-bg13"],[1,"container"],[1,"inner-title","text-center"],["routerLink","/"],[1,"cart-wraps-area","pt-100","pb-70"],[1,"row"],[1,"col-lg-12"],[1,"cart-wraps"],[1,"cart-table","table-responsive"],[4,"ngIf"],["class","table table-bordered",4,"ngIf"],["routerLink","/diet-plans",2,"margin-left","4px",3,"click"],[1,"table","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[1,"product-thumbnail"],[1,"unit-amount"],[1,"product-name"],[1,"product-price"],[1,"product-quantity"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),e._uU(4,"My Orders"),e.qZA(),e.TgZ(5,"ul")(6,"li")(7,"a",3),e._uU(8,"Home"),e.qZA()(),e.TgZ(9,"li"),e._uU(10,"My orders"),e.qZA()()()()(),e.TgZ(11,"section",4)(12,"div",1)(13,"div",5)(14,"div",6)(15,"form")(16,"div",7)(17,"div",8),e.YNc(18,q,4,0,"h3",9),e.YNc(19,A,16,1,"table",10),e.qZA()()()()()()(),e.YNc(20,U,1,0,"app-spinner",9)),2&r&&(e.xp6(18),e.Q6J("ngIf",o.orders.length<1),e.xp6(1),e.Q6J("ngIf",o.orders.length>=1),e.xp6(1),e.Q6J("ngIf",o.isLoading))},dependencies:[l.sg,l.O5,a.rH,n._Y,n.JL,n.F,y.O,l.H9]});var T=s(1606),w=s(4347);function P(i,r){1&i&&(e.TgZ(0,"div",53),e._UZ(1,"i",54),e.TgZ(2,"span",55),e._uU(3,"Your account details."),e.qZA()())}function N(i,r){1&i&&(e.TgZ(0,"div",56),e._UZ(1,"i",57),e._uU(2," Please enter your name. "),e.qZA())}function I(i,r){1&i&&(e.TgZ(0,"div",56),e._UZ(1,"i",57),e._uU(2," Please enter email address. "),e.qZA())}function O(i,r){1&i&&(e.TgZ(0,"div",56),e._UZ(1,"i",57),e._uU(2," Please enter a valid email address. "),e.qZA())}function M(i,r){1&i&&(e.TgZ(0,"div",56),e._UZ(1,"i",57),e._uU(2," Please enter your phone number. "),e.qZA())}function E(i,r){1&i&&(e.TgZ(0,"div",56),e._UZ(1,"i",57),e._uU(2," Please enter your fitness goals. "),e.qZA())}function J(i,r){1&i&&(e.TgZ(0,"div",56),e._UZ(1,"i",57),e._uU(2," Enter your age in years. "),e.qZA())}function G(i,r){1&i&&(e.TgZ(0,"div",56),e._UZ(1,"i",57),e._uU(2," Height in feet inches. "),e.qZA())}function F(i,r){1&i&&(e.TgZ(0,"div",56),e._UZ(1,"i",57),e._uU(2," Enter weight in Kg(s). "),e.qZA())}function L(i,r){1&i&&(e.TgZ(0,"span",58),e._UZ(1,"i",57),e._uU(2," Please select your gender. "),e.qZA())}function Q(i,r){1&i&&(e.TgZ(0,"span",58),e._UZ(1,"i",57),e._uU(2," Select weight goal(Lose/gain). "),e.qZA())}function Y(i,r){1&i&&(e.TgZ(0,"span",58),e._UZ(1,"i",57),e._uU(2," Are you going to gym?(Yes/No). "),e.qZA())}function S(i,r){1&i&&(e.TgZ(0,"span",58),e._UZ(1,"i",57),e._uU(2," Please select your food type. "),e.qZA())}function k(i,r){1&i&&e._UZ(0,"app-spinner")}class c{constructor(r,o,t,d){this.router=r,this.fb=o,this.userApiService=t,this.toastMessageService=d,this.isLoading=!1,this.isConflictErr=!1}ngOnInit(){this.scrollTop(),this.isLoading=!0,this.userForm=this.fb.group({fullName:new n.NI("",[n.kI.required]),email:new n.NI("",[n.kI.required,n.kI.pattern(w.f.email)]),phone:new n.NI("",[n.kI.required]),age:new n.NI("",[n.kI.required]),goals:new n.NI("",[n.kI.required]),height:new n.NI("",[n.kI.required]),weight:new n.NI("",[n.kI.required]),gender:new n.NI("",[n.kI.required]),loseOrGain:new n.NI("",[n.kI.required]),goingGym:new n.NI("",[n.kI.required]),foodType:new n.NI("",[n.kI.required]),planDuration:new n.NI("3",[n.kI.required]),medicalIssue:new n.NI(""),foodAllergy:new n.NI("")}),this.isLoggedIn()&&this.userApiService.getUserProfile().subscribe(r=>{this.userForm.patchValue({fullName:r.user.fullName,email:r.user.email,phone:r.user.phone,goals:r.user.goals,age:r.user.age,gender:r.user.gender,height:r.user.height,weight:r.user.weight,loseOrGain:r.user.loseOrGain,goingGym:r.user.goingGym,foodType:r.user.foodType,medicalIssue:r.user.medicalIssue,foodAllergy:r.user.foodAllergy}),this.isLoading=!1},r=>{this.toastMessageService.error("An unknown error occured!"),this.isLoading=!1,console.log(r)})}get f(){return this.userForm.controls}submitForm(){if(this.userForm.valid){this.isLoading=!0;const r=this.userForm.value;try{this.userApiService.postUpdateUserProfile(r).subscribe(o=>{this.toastMessageService.success(o.message),Object.keys(this.userForm.controls).forEach(t=>{this.userForm.controls[t].markAsPristine()}),this.isLoading=!1},o=>{console.log(o),this.toastMessageService.error(11e3===o.error.message.code?"An account with this email address exists already!":o.error.message),this.isLoading=!1})}catch{this.toastMessageService.success("An unknown error occured!"),this.isLoading=!1}}else console.log("Form not valid")}scrollTop(){window.scrollTo({top:0,behavior:"smooth"})}isLoggedIn(){return this.userApiService.isLoggedIn()}showModel(){const r=document.getElementById("custom-backdrop");r.style.visibility="visible",r.style.opacity="1",document.getElementById("custom-modal").style.transform="translateY(0)"}}function D(i,r){1&i&&e._UZ(0,"app-spinner")}c.\u0275fac=function(r){return new(r||c)(e.Y36(a.F0),e.Y36(n.qu),e.Y36(Z.Q),e.Y36(_.E))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-profile"]],decls:147,vars:33,consts:[[1,"checkout-area","pt-100","pb-70"],[1,"container"],[3,"formGroup","ngSubmit"],["id","plan-details",1,"row"],[1,"col-lg-12"],["class","checkout-user","style","background-color: #72ae44; color: #ffffff",4,"ngIf"],[1,"billing-details"],[1,"title"],[1,"row"],[1,"col-lg-6","col-md-6"],[1,"form-group",3,"ngClass"],[1,"required"],["formControlName","fullName","type","text",1,"form-control"],["class","error-msg",4,"ngIf"],["formControlName","email","type","email",1,"form-control"],["formControlName","phone","type","text",1,"form-control"],["formControlName","goals","type","text",1,"form-control"],[1,"col-lg-4","col-md-6"],["formControlName","age","type","text",1,"form-control"],["formControlName","height","type","text",1,"form-control"],["formControlName","weight","type","text",1,"form-control"],[1,"col-lg-6","col-md-6",3,"ngClass"],[1,"form-group","radio-group",3,"ngClass"],[1,"payment-box",2,"margin-bottom","10px"],[1,"payment-method"],[1,"radio-group",2,"margin-bottom","0"],["type","radio","id","male","value","Male","formControlName","gender"],["for","male"],["type","radio","id","female","value","Female","formControlName","gender"],["for","female"],["style","margin-bottom: 10px;","class","error-msg",4,"ngIf"],[1,"payment-box"],["type","radio","id","lose","value","Lose","formControlName","loseOrGain"],["for","lose"],["type","radio","id","gain","value","Gain","formControlName","loseOrGain"],["for","gain"],["style","margin-bottom: 10px","class","error-msg",4,"ngIf"],["type","radio","id","yes","value","Yes","formControlName","goingGym"],["for","yes"],["type","radio","id","no","value","No","formControlName","goingGym"],["for","no"],["style","margin-bottom:\n                                                10px","class","error-msg",4,"ngIf"],["type","radio","id","veg","value","Veg","formControlName","foodType"],["for","veg"],["type","radio","id","non-veg","value","Non-Veg","formControlName","foodType"],["for","non-veg"],["type","radio","id","just-egg","value","Just-egg","formControlName","foodType"],["for","just-egg"],[1,"form-group"],["formControlName","medicalIssue","type","text",1,"form-control"],["formControlName","foodAllergy","type","text",1,"form-control"],["type","submit",1,"default-btn",3,"disabled"],[4,"ngIf"],[1,"checkout-user",2,"background-color","#72ae44","color","#ffffff"],[1,"fas","fa-sign-out-alt"],[2,"color","#ffffff"],[1,"error-msg"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[1,"error-msg",2,"margin-bottom","10px"]],template:function(r,o){1&r&&(e.TgZ(0,"section",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return o.submitForm()}),e.TgZ(3,"div",3)(4,"div",4),e.YNc(5,P,4,0,"div",5),e.TgZ(6,"div",6)(7,"h3",7),e._uU(8,"Account details"),e.qZA(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"label"),e._uU(13,"Full Name "),e.TgZ(14,"span",11),e._uU(15,"*"),e.qZA()(),e._UZ(16,"input",12),e.YNc(17,N,3,0,"div",13),e.qZA()(),e.TgZ(18,"div",9)(19,"div",10)(20,"label"),e._uU(21,"Email Address "),e.TgZ(22,"span",11),e._uU(23,"*"),e.qZA()(),e._UZ(24,"input",14),e.YNc(25,I,3,0,"div",13),e.YNc(26,O,3,0,"div",13),e.qZA()(),e.TgZ(27,"div",9)(28,"div",10)(29,"label"),e._uU(30,"Phone "),e.TgZ(31,"span",11),e._uU(32,"*"),e.qZA()(),e._UZ(33,"input",15),e.YNc(34,M,3,0,"div",13),e.qZA()(),e.TgZ(35,"div",9)(36,"div",10)(37,"label"),e._uU(38,"Your Goals "),e.TgZ(39,"span",11),e._uU(40,"*"),e.qZA()(),e._UZ(41,"input",16),e.YNc(42,E,3,0,"div",13),e.qZA()(),e.TgZ(43,"div",17)(44,"div",10)(45,"label"),e._uU(46,"Age (in years) "),e.TgZ(47,"span",11),e._uU(48,"*"),e.qZA()(),e._UZ(49,"input",18),e.YNc(50,J,3,0,"div",13),e.qZA()(),e.TgZ(51,"div",17)(52,"div",10)(53,"label"),e._uU(54,"Height(in feet inches) "),e.TgZ(55,"span",11),e._uU(56,"*"),e.qZA()(),e._UZ(57,"input",19),e.YNc(58,G,3,0,"div",13),e.qZA()(),e.TgZ(59,"div",17)(60,"div",10)(61,"label"),e._uU(62,"Weight(in kg(s)) "),e.TgZ(63,"span",11),e._uU(64,"*"),e.qZA()(),e._UZ(65,"input",20),e.YNc(66,F,3,0,"div",13),e.qZA()(),e.TgZ(67,"div",21)(68,"div",22)(69,"label"),e._uU(70,"Gender "),e.TgZ(71,"span",11),e._uU(72,"*"),e.qZA()(),e.TgZ(73,"div",23)(74,"div",24)(75,"p",25),e._UZ(76,"input",26),e.TgZ(77,"label",27),e._uU(78,"Male"),e.qZA(),e._UZ(79,"input",28),e.TgZ(80,"label",29),e._uU(81,"Female"),e.qZA()(),e.YNc(82,L,3,0,"span",30),e.qZA()()()(),e.TgZ(83,"div",21)(84,"div",22)(85,"label"),e._uU(86,"Lose/Gain "),e.TgZ(87,"span",11),e._uU(88,"*"),e.qZA()(),e.TgZ(89,"div",31)(90,"div",24)(91,"p",25),e._UZ(92,"input",32),e.TgZ(93,"label",33),e._uU(94,"Lose"),e.qZA(),e._UZ(95,"input",34),e.TgZ(96,"label",35),e._uU(97,"Gain"),e.qZA()(),e.YNc(98,Q,3,0,"span",36),e.qZA()()()(),e.TgZ(99,"div",21)(100,"div",22)(101,"label"),e._uU(102,"Going gym? "),e.TgZ(103,"span",11),e._uU(104,"*"),e.qZA()(),e.TgZ(105,"div",31)(106,"div",24)(107,"p",25),e._UZ(108,"input",37),e.TgZ(109,"label",38),e._uU(110,"Yes"),e.qZA(),e._UZ(111,"input",39),e.TgZ(112,"label",40),e._uU(113,"No"),e.qZA()(),e.YNc(114,Y,3,0,"span",41),e.qZA()()()(),e.TgZ(115,"div",21)(116,"div",22)(117,"label"),e._uU(118,"Food Type "),e.TgZ(119,"span",11),e._uU(120,"*"),e.qZA()(),e.TgZ(121,"div",31)(122,"div",24)(123,"p",25),e._UZ(124,"input",42),e.TgZ(125,"label",43),e._uU(126,"Veg"),e.qZA(),e._UZ(127,"input",44),e.TgZ(128,"label",45),e._uU(129,"Non-veg"),e.qZA(),e._UZ(130,"input",46),e.TgZ(131,"label",47),e._uU(132,"Just egg"),e.qZA()(),e.YNc(133,S,3,0,"span",41),e.qZA()()()(),e.TgZ(134,"div",9)(135,"div",48)(136,"label"),e._uU(137,"Any Medical Issue"),e.qZA(),e._UZ(138,"input",49),e.qZA()(),e.TgZ(139,"div",9)(140,"div",48)(141,"label"),e._uU(142,"Any food you are having allergy with?"),e.qZA(),e._UZ(143,"input",50),e.qZA()(),e.TgZ(144,"button",51),e._uU(145),e.qZA()()()()()()()(),e.YNc(146,k,1,0,"app-spinner",52)),2&r&&(e.Q6J("@fade","active"),e.xp6(2),e.Q6J("formGroup",o.userForm),e.xp6(3),e.Q6J("ngIf",o.isLoggedIn()),e.xp6(6),e.Q6J("ngClass",o.f.fullName.invalid&&(o.f.fullName.dirty||o.f.fullName.touched)||o.f.fullName.hasError("required")&&o.submitted?"has-error":""),e.xp6(6),e.Q6J("ngIf",o.f.fullName.hasError("required")&&o.f.fullName.touched||o.f.fullName.hasError("required")&&o.submitted),e.xp6(2),e.Q6J("ngClass",o.f.email.invalid&&(o.f.email.dirty||o.f.email.touched)||o.f.email.hasError("required")&&o.submitted?"has-error":""),e.xp6(6),e.Q6J("ngIf",o.f.email.hasError("required")&&o.f.email.touched||o.f.email.hasError("required")&&o.submitted),e.xp6(1),e.Q6J("ngIf",o.f.email.hasError("pattern")&&o.f.email.touched||o.f.email.hasError("pattern")&&o.submitted),e.xp6(2),e.Q6J("ngClass",o.f.phone.invalid&&(o.f.phone.dirty||o.f.phone.touched)||o.f.phone.hasError("required")&&o.submitted?"has-error":""),e.xp6(6),e.Q6J("ngIf",o.f.phone.hasError("required")&&o.f.phone.touched||o.f.phone.hasError("required")&&o.submitted),e.xp6(2),e.Q6J("ngClass",o.f.goals.invalid&&(o.f.goals.dirty||o.f.goals.touched)||o.f.goals.hasError("required")&&o.submitted?"has-error":""),e.xp6(6),e.Q6J("ngIf",o.f.goals.hasError("required")&&o.f.goals.touched||o.f.goals.hasError("required")&&o.submitted),e.xp6(2),e.Q6J("ngClass",o.f.age.invalid&&(o.f.age.dirty||o.f.age.touched)||o.f.age.hasError("required")&&o.submitted?"has-error":""),e.xp6(6),e.Q6J("ngIf",o.f.age.hasError("required")&&o.f.age.touched||o.f.age.hasError("required")&&o.submitted),e.xp6(2),e.Q6J("ngClass",o.f.height.invalid&&(o.f.height.dirty||o.f.height.touched)||o.f.height.hasError("required")&&o.submitted?"has-error":""),e.xp6(6),e.Q6J("ngIf",o.f.height.hasError("required")&&o.f.height.touched||o.f.height.hasError("required")&&o.submitted),e.xp6(2),e.Q6J("ngClass",o.f.weight.invalid&&(o.f.weight.dirty||o.f.weight.touched)||o.f.weight.hasError("required")&&o.submitted?"has-error":""),e.xp6(6),e.Q6J("ngIf",o.f.weight.hasError("required")&&o.f.weight.touched||o.f.weight.hasError("required")&&o.submitted),e.xp6(1),e.Q6J("ngClass",o.f.goingGym.invalid&&(o.f.goingGym.dirty||o.f.goingGym.touched)||o.f.goingGym.hasError("required")&&o.submitted?"m-top":""),e.xp6(1),e.Q6J("ngClass",o.f.gender.invalid&&(o.f.gender.dirty||o.f.gender.touched)||o.f.gender.hasError("required")&&o.submitted?"has-error m-top":""),e.xp6(14),e.Q6J("ngIf",o.f.gender.hasError("required")&&o.f.gender.touched||o.f.gender.hasError("required")&&o.submitted),e.xp6(1),e.Q6J("ngClass",o.f.goingGym.invalid&&(o.f.goingGym.dirty||o.f.goingGym.touched)||o.f.goingGym.hasError("required")&&o.submitted?"m-top":""),e.xp6(1),e.Q6J("ngClass",o.f.loseOrGain.invalid&&(o.f.loseOrGain.dirty||o.f.loseOrGain.touched)||o.f.loseOrGain.hasError("required")&&o.submitted?"has-error m-top":""),e.xp6(14),e.Q6J("ngIf",o.f.loseOrGain.hasError("required")&&o.f.loseOrGain.touched||o.f.loseOrGain.hasError("required")&&o.submitted),e.xp6(1),e.Q6J("ngClass",o.f.goingGym.invalid&&(o.f.goingGym.dirty||o.f.goingGym.touched)||o.f.goingGym.hasError("required")&&o.submitted?"m-top":""),e.xp6(1),e.Q6J("ngClass",o.f.goingGym.invalid&&(o.f.goingGym.dirty||o.f.goingGym.touched)||o.f.goingGym.hasError("required")&&o.submitted?"has-error m-top":""),e.xp6(14),e.Q6J("ngIf",o.f.goingGym.hasError("required")&&o.f.goingGym.touched||o.f.goingGym.hasError("required")&&o.submitted),e.xp6(1),e.Q6J("ngClass",o.f.goingGym.invalid&&(o.f.goingGym.dirty||o.f.goingGym.touched)||o.f.goingGym.hasError("required")&&o.submitted?"m-top":""),e.xp6(1),e.Q6J("ngClass",o.f.foodType.invalid&&(o.f.foodType.dirty||o.f.foodType.touched)||o.f.foodType.hasError("required")&&o.submitted?"has-error m-top":""),e.xp6(17),e.Q6J("ngIf",o.f.foodType.hasError("required")&&o.f.foodType.touched||o.f.foodType.hasError("required")&&o.submitted),e.xp6(11),e.Q6J("disabled",!o.userForm.valid||!o.userForm.dirty),e.xp6(1),e.hij(" ",o.isLoading?"Saving...":"Save changes"," "),e.xp6(1),e.Q6J("ngIf",o.isLoading))},dependencies:[l.mk,l.O5,n._Y,n.Fj,n._,n.JJ,n.JL,n.sg,n.u,y.O],styles:['.radio-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   [type=radio][_ngcontent-%COMP%]:not(:checked){display:none}.radio-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   [type=radio][_ngcontent-%COMP%]:checked{display:none}.radio-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-flex;justify-content:space-between}p[_ngcontent-%COMP%]   [type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{padding-left:22px;padding-right:8px;cursor:pointer;display:inline-flex;justify-content:space-between;font-weight:600;position:relative;margin-bottom:15px}p[_ngcontent-%COMP%]   [type=radio][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]{padding-left:22px;padding-right:8px;cursor:pointer;display:inline-flex;justify-content:space-between;font-weight:300;position:relative;margin-bottom:15px}p[_ngcontent-%COMP%]   [type=radio][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:3px;width:18px;height:18px;border:1px solid #ddd;border-radius:50%}p[_ngcontent-%COMP%]   [type=radio][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:after{content:"";width:12px;height:12px;background:var(--greenColor);position:absolute;top:6px;left:3px;border-radius:50%;transition:.5s;opacity:0;visibility:hidden;transform:scale(0)}.billing-totals[_ngcontent-%COMP%]   .default-btn[_ngcontent-%COMP%]{margin-top:20px;text-align:center;width:100%}.error-msg[_ngcontent-%COMP%]{color:red}.form-group.has-error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(255,64,64,.2);border:1px solid #FF4040}.m-top[_ngcontent-%COMP%]{margin-bottom:1.6rem}.save-btn[_ngcontent-%COMP%]{float:right}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;pointer-events:all;opacity:.5}'],data:{animation:[T.U]}});class h{constructor(r,o,t,d){this.formBuilder=r,this.userApiService=o,this.toastMessageService=t,this.router=d,this.isLoading=!1,this.changePasswordForm=this.formBuilder.group({oldPassword:["",n.kI.required],newPassword:["",n.kI.required],confirmNewPassword:["",n.kI.required]},{validator:this.ConfirmedValidator("newPassword","confirmNewPassword")})}get value(){return this.changePasswordForm.value}get f(){return this.changePasswordForm.controls}ConfirmedValidator(r,o){return t=>{const v=t.controls[o];v.errors&&!v.errors.confirmedValidator||v.setErrors(t.controls[r].value!==v.value?{confirmedValidator:!0}:null)}}matchingInputsValidator(r,o){return function(t){return t.controls[r].value!==t.controls[o].value?(console.log("missmatch",t.controls[r].value),{missmatch:!0}):{missmatch:!1}}}get newPasswordControl(){return console.log(this.changePasswordForm.controls.newPassword.value),this.changePasswordForm.controls.newPassword.value}get confirmNewPasswordControl(){return console.log(this.changePasswordForm.hasError("missmatch")),this.changePasswordForm.controls.confirmNewPassword.value}submitForm(){const r=this.changePasswordForm.value;try{if(!this.changePasswordForm.valid)return void console.log("Form values are not valid");this.isLoading=!0,this.userApiService.putChangePassword(r).subscribe(o=>{this.isLoading=!1,!0===o.success&&(this.toastMessageService.success(o.message),this.isLoading=!1,this.router.navigate(["/account/profile"]))},o=>{this.toastMessageService.error(o.error.message),this.isLoading=!1})}catch{console.log("some error occured"),this.isLoading=!1}}scrollTop(){window.scrollTo({top:0,behavior:"smooth"})}}h.\u0275fac=function(r){return new(r||h)(e.Y36(n.qu),e.Y36(Z.Q),e.Y36(_.E),e.Y36(a.F0))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-change-password"]],decls:25,vars:5,consts:[[1,"user-area","pt-100","pb-70"],[1,"container"],[1,"row","align-items-center"],[1,"col-lg-12"],[1,"user-all-form"],[1,"contact-form"],["id","contactForm",3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group"],["type","password","formControlName","oldPassword","id","name","placeholder","Old Password",1,"form-control"],["type","password","formControlName","newPassword","id","name","placeholder","New Password",1,"form-control"],[1,"col-12"],["type","password","formControlName","confirmNewPassword","placeholder","Confirm New Password",1,"form-control"],[1,"col-lg-12","form-condition"],[1,"agree-label"],[1,"col-lg-12","col-md-12","text-center"],["type","submit",1,"default-btn",3,"disabled"],[4,"ngIf"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3"),e._uU(7,"Change Password"),e.qZA(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return o.submitForm()}),e.TgZ(9,"div",7)(10,"div",3)(11,"div",8),e._UZ(12,"input",9),e.qZA()(),e.TgZ(13,"div",3)(14,"div",8),e._UZ(15,"input",10),e.qZA()(),e.TgZ(16,"div",11)(17,"div",8),e._UZ(18,"input",12),e.qZA()(),e.TgZ(19,"div",13),e._UZ(20,"div",14),e.qZA(),e.TgZ(21,"div",15)(22,"button",16),e._uU(23),e.qZA()()()()()()()()()(),e.YNc(24,D,1,0,"app-spinner",17)),2&r&&(e.Q6J("@fade","active"),e.xp6(8),e.Q6J("formGroup",o.changePasswordForm),e.xp6(14),e.Q6J("disabled",o.isLoading),e.xp6(1),e.hij(" ",o.isLoading?"Changing...":"Change Password"," "),e.xp6(1),e.Q6J("ngIf",o.isLoading))},dependencies:[l.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,y.O],data:{animation:[T.U]}});const j=[{path:"profile",canActivate:[p.Z],data:{title:"User Profile"},children:[{path:"",component:c,canActivate:[p.Z],data:{title:"User Profile"}},{path:"orders",component:f,canActivate:[p.Z],data:{title:"My orders"}},{path:"orders/view-order/:orderId",component:m,canActivate:[p.Z],data:{title:"View order details"}}]},{path:"settings/change-password",component:h,canActivate:[p.Z],data:{title:"Change Password"}}];class g{}g.\u0275fac=function(r){return new(r||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[a.Bz.forChild(j),a.Bz]});var V=s(4466);class u{}u.\u0275fac=function(r){return new(r||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[l.ez,g,n.u5,n.UX,V.m,a.Bz]})}}]);